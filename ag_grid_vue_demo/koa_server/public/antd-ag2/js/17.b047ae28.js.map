{"version":3,"file":"js/17.b047ae28.js","mappings":"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oBACA,uBACA,SACA,CACA,WACA,SAEA,CACA,YACA,SAEA,CACA,cACA,aAQA,eACA,CACA,eACA,eACA,0BAEA,CACA,eACA,eACA,0BAEA,CACA,eACA,mBACA,iBACA,SACA,uBACA,WACA,CACA,aACA,cACA,mBACA,qBAEA,CACA,aACA,YACA,uBAEA,CACA,aACA,oBACA,cACA,yBAOA,cACA,YAEA,gBAGA,UACA,kBACA,iBACA,kBACA,mBACA,mBACA,kBACA,kBACA,qBACA,WACA,gBACA,WACA,aACA,gBACA,YACA,aACA,iBACA,cACA,qBACA,kBACA,mBACA,oBAEA,aACA,CACA,kBACA,iBACA,gBACA,4BAEA,iBACA,qBAEA,sBAGA,CACA,kBACA,kBACA,iBACA,+BACA,mBACA,MACA,YACA,MACA,YACA,MACA,YACA,OACA,KAGA,CACA,kBACA,kBACA,iBACA,+BACA,kBACA,8DACA,YACA,yDACA,2DAGA,CACA,gBACA,YACA,iBACA,+BACA,6BAGA,CACA,iBACA,qBACA,iBACA,+BACA,mBACA,KACA,YACA,MACA,WAKA,eACA,CACA,gBACA,sBACA,UACA,0CAMA,qBAEA,eAEA,EAEA,SAEA,0BACA,SACA,aACA,gBACA,qCACA,yBACA,kCACA,GAEA,EAEA,GAEA,QACA,EAGA,2BACA,OACA,sBACA,kCACA,kDAEA,sBAEA,EAEA,EAGA,eACA,wCACA,EAGA,WACA,kEAEA,6CACA,qCACA,QACA,kCAEA,2BACA,SACA,WACA,UACA,gBACA,SACA,mBAGA,UAGA,GAFA,yBAEA,eACA,kCACA,2BACA,gCAGA,4BADA,KACA,iBAGA,kBACA,+BACA,GAKA,MACA,wCACA,IAEA,cACA,uCAEA,EAGA,uBACA,4BACA,kBACA,eAEA,OADA,uBACA,GACA,SACA,YACA,wBACA,MACA,SACA,YACA,yBACA,MACA,SACA,YACA,yBACA,MACA,SACA,YACA,yBACA,MAEA,EAGA,mBACA,uBACA,mBACA,EAGA,kBAGA,GAFA,iBACA,wBACA,WACA,aACA,6BACA,kBACA,eACA,aACA,mBACA,sBACA,YACA,uBACA,MACA,cAEA,cACA,6BACA,uCAEA,uCAEA,GAEA,MACA,+BAEA,EAGA,iBACA,aACA,eACA,aACA,2BACA,sBACA,YACA,uBACA,QAEA,cACA,2BACA,uCAEA,qCAEA,GAEA,EAEA,gBACA,cACA,mCACA,qBACA,MACA,8BAEA,EAGA,sBACA,kBACA,mBAIA,OAFA,mDAEA,GACA,WACA,cACA,0BACA,oBACA,MACA,SACA,YACA,MACA,SACA,YACA,MACA,SACA,YACA,MACA,cACA,iBACA,wCACA,MACA,cACA,iBACA,0CACA,MACA,cACA,iBACA,0CACA,MAEA,ICvkBqoB,ICSjoB,GAAY,OACd,EACA7B,EACAkB,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,O","sources":["webpack://AG/./src/components/AgGridTable/agTableMixins/index.js","webpack://AG/./src/views/pages/base/user-manage/index.vue?b61b","webpack://AG/./src/views/pages/base/user-manage/components/AgRowActionBtn/index.vue?c690","webpack://AG/src/views/pages/base/user-manage/components/AgRowActionBtn/index.vue","webpack://AG/./src/views/pages/base/user-manage/components/AgRowActionBtn/index.vue?00a4","webpack://AG/./src/views/pages/base/user-manage/components/AgRowActionBtn/index.vue","webpack://AG/src/views/pages/base/user-manage/index.vue","webpack://AG/./src/views/pages/base/user-manage/index.vue?610f","webpack://AG/./src/views/pages/base/user-manage/index.vue"],"sourcesContent":["/*\r\n * @Author: junsong Chen 779217162@qq.com\r\n * @Date: 2024-01-29 15:22:57\r\n * @LastEditTime: 2024-07-20 23:47:32\r\n * @Description: 用于应用二次封装的组件的混入\r\n */\r\nimport { before, cloneDeep, isArray, isEmpty, isObject } from \"lodash\";\r\nimport { AgGridUtils, InitColumnDefs } from \"../common/agGrid-utils\";\r\nimport { getRandom6DigitNumber } from \"../common/utils/index\";\r\n\r\nconst AgGridTableMixins = {\r\n  data() {\r\n    return {\r\n      // 获取点击的行数据，用于表格的编辑和删除\r\n      editRowData: null,\r\n      // 当前选中的行数据，用于展示批量操作\r\n      rowSelectedList: null,\r\n      // 6位随机数\r\n      random6DigitNumber: getRandom6DigitNumber(),\r\n      // ag-grid表格整体配置项-- 用户自定义配置型\r\n      gridOptions: {\r\n        rowHeight: 36, // 行高，默认36\r\n      },\r\n      agTableOptions: {\r\n        // 主题可设置值为： alpine / balham / material\r\n        theme: \"alpine\",\r\n        // 表格样式style\r\n        style: null,\r\n        // 表格实例化后的自定义api\r\n        agTableApi: null,\r\n        // 初始化表格方法，可用于重新刷新表格\r\n        initTable: null,\r\n        // 初始化列头实例\r\n        initColumnDefs: null,\r\n        // 列头设置，先有列头，再有行数据，如果有行数据的情况下，更改其引用，并不满足ag-grid-vue的要求会导致报错\r\n        columnDefs: [],\r\n        // 表格行数据\r\n        rowData: [],\r\n        // 自定义配置gridOptions，该属性为方法\r\n        gridOptions: null,\r\n        // 自定义默认列配置，该属性为方法\r\n        defaultColDef: null,\r\n      },\r\n      agQueryParams: {\r\n        // 是否初始化表格成功状态，true表示成功，false表示失败；v-if控制\r\n        initTableSuccess: true,\r\n        // 表格接口请求loading,true表示请求中，false表示请求成功\r\n        getDataLoading: true,\r\n        // 总页数，用于封装好的分页组件\r\n        totalPages: 0,\r\n        // 总条数，用于封装好的分页组件\r\n        total: 0,\r\n        // 当前页数，用于封装好的分页组件\r\n        pageNum: 1,\r\n        // 当前条数，用于封装好的分页组件\r\n        pageSize: 100,\r\n        // 列头筛选数据收集对象，暂时不使用\r\n        filterChangedObj: {},\r\n        // BLHeaderSearch组件头部请求参数对象\r\n        queryParam: {},\r\n        // BLHeaderSearch组件展开/收起切换\r\n        toggleSearchStatus: false,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    eventName() {\r\n      const { initColumnDefs } = this.agTableOptions;\r\n      if (initColumnDefs && initColumnDefs.agGridTableId) {\r\n        return initColumnDefs.agGridTableId;\r\n      } else {\r\n        return undefined;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    eventName(newVal) {\r\n      if (newVal) {\r\n        const that = this;\r\n        AgGridUtils.setEventBusListener(newVal, (params) => {\r\n          that.agTableRowOperation(params);\r\n        });\r\n      }\r\n    },\r\n  },\r\n  beforeDestory() {\r\n    // 销毁事件总线，防止多次触发。\r\n    this.eventName && AgGridUtils.removeEventBusListener(this.eventName);\r\n    this.agTableOptions.agTableApi.gridApi.destroy();\r\n\r\n    this.agQueryParams.getDataLoading = true;\r\n    this.agTableOptions.style = null\r\n    this.agTableOptions.agTableApi = null\r\n    this.agTableOptions.initTable = null\r\n    this.agTableOptions.initColumnDefs = null\r\n    this.agTableOptions.defaultColDef = null\r\n    this.agTableOptions.gridOptions = null\r\n    this.agTableOptions.rowData = null\r\n\r\n    this.rowSelectedList = null\r\n    this.agQueryParams.filterChangedObj = {}\r\n    this.agQueryParams.queryParam = {}\r\n\r\n  },\r\n  created() {\r\n    if (!this.fieldsConfig) {\r\n      console.error(\"ag-grid参数[fieldsConfig]是必填项\");\r\n      return false;\r\n    }\r\n    if (this.fieldsConfig.isDefaultDealQueryParamObj !== false) {\r\n      this.dealQueryParamObj();\r\n    }\r\n    if (this.fieldsConfig.isDefaultInitAgGridTable !== false) {\r\n      this.initTable();\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取表格自定义gridOptions【示例方法】\r\n    getCustmoerGridOptions() {\r\n      const gridOptions = {\r\n        rowHeight: 80,\r\n        headerHeight: 60,\r\n        rowSelection: \"single\",\r\n        rowStyle: { backgroundColor: \"#D3D3D3\" },\r\n        getRowHeight: function (params) {\r\n          if (params.node.rowPinned === \"bottom\") {\r\n            return 36;\r\n          } else {\r\n            return 80;\r\n          }\r\n        },\r\n      };\r\n      return gridOptions;\r\n    },\r\n\r\n    // 获取列的默认设置defaultColDef【示例方法】\r\n    getCustomerDefaultColDef() {\r\n      return {\r\n        cellStyle: function (params) {\r\n          if (params.node.rowPinned === \"bottom\") {\r\n            return { color: \"#333\", \"line-height\": \"36px\", height: \"36px\" }; // 列的单元格默认样式\r\n          } else {\r\n            return { color: \"#ff0\", \"line-height\": \"80px\" }; // 列的单元格默认样式\r\n          }\r\n        },\r\n      };\r\n    },\r\n\r\n    // 通过headerSearchConfig拼装agQueryParams.queryParam的属性\r\n    dealQueryParamObj() {\r\n      if (this.headerSearchConfig) {\r\n        const { main, more } = this.headerSearchConfig;\r\n        if (isArray(main) && main.length) {\r\n          const obj = {};\r\n          var searchList = [...main];\r\n          if (isArray(more) && more.length) {\r\n            searchList = [...main, ...more];\r\n          }\r\n          searchList.forEach((ele) => {\r\n            const {\r\n              field,\r\n              type,\r\n              defaultValue,\r\n              selectDefaultValue,\r\n              selectField,\r\n            } = ele;\r\n\r\n            if (type === \"region\") {\r\n              obj[field] = defaultValue || [];\r\n            } else {\r\n              if (field) {\r\n                obj[field] = defaultValue;\r\n              }\r\n              if (selectField) {\r\n                obj[selectField] = selectDefaultValue;\r\n              }\r\n            }\r\n          });\r\n\r\n          console.log(\"obj=====>\", obj);\r\n\r\n          this.$set(this.agQueryParams, \"queryParam\", obj);\r\n          // 是否更改了查询条件\r\n          this.$set(this.agQueryParams, \"isChangeQueryCondition\", false);\r\n          // 通过搜索头执行的搜索次数\r\n          this.$set(this.agQueryParams, \"searchRequestCount\", 0);\r\n          // 存储第一次的最原始查询数据，用于重置回显\r\n          this.$set(this.agQueryParams, \"resetQueryParams\", cloneDeep(obj));\r\n        }\r\n      }\r\n    },\r\n\r\n    // 重置\r\n    searchReset() {\r\n      console.log(\"查询=====12\");\r\n      const { queryParam, resetQueryParams } = this.agQueryParams;\r\n      this.agQueryParams.searchRequestCount = 0;\r\n      this.agQueryParams = Object.assign(this.agQueryParams, {\r\n        initTableSuccess: true,\r\n        getDataLoading: false,\r\n        totalPages: 0,\r\n        total: 0,\r\n        pageNum: 1,\r\n        pageSize: 100,\r\n        filterChangedObj: {},\r\n        queryParam: Object.assign(queryParam, resetQueryParams || {}),\r\n        toggleSearchStatus: false,\r\n      });\r\n      this.geAjaxList();\r\n    },\r\n\r\n    // 请求下一页\r\n    requestNextPage(pageNum) {\r\n      console.log(\"请求下一页\");\r\n      if (this.agQueryParams.totalPages > this.agQueryParams.pageNum) {\r\n        if (pageNum) {\r\n          this.agQueryParams.pageNum = pageNum;\r\n        } else {\r\n          this.agQueryParams.pageNum++;\r\n        }\r\n        this.geAjaxList(this.agQueryParams.queryParam);\r\n      }\r\n    },\r\n\r\n    // 获取多选的行数据\r\n    rowSelected(ele) {\r\n      console.log(\"获取多选的行数据\", ele);\r\n      const selectedRowData =\r\n        this.agTableOptions.agTableApi.getSelectedRows(false);\r\n      console.log(\"获取多选的行数据123\", selectedRowData);\r\n      this.rowSelectedList = selectedRowData || [];\r\n    },\r\n\r\n    // 获取点击的行数据，用于表格的编辑和删除\r\n    getRowData(ele) {\r\n      this.editRowData = ele;\r\n    },\r\n    // 获取表格ag-grid的api\r\n    getGridApi(ele) {\r\n      const agTableApi = new AgGridUtils(ele, this.fieldsConfig);\r\n      console.log(\"agTableApi======>\", agTableApi);\r\n      this.agTableOptions.agTableApi = agTableApi;\r\n    },\r\n\r\n    // 初始化表格, type  default表示默认 , customer 表示自定义请求\r\n    async initTable() {\r\n      try {\r\n        const { style } = this.fieldsConfig;\r\n        this.agQueryParams.initTableSuccess = false;\r\n        this.agQueryParams.pageNum = 1;\r\n        const initColumnDefs = new InitColumnDefs();\r\n        const currentFields = await initColumnDefs.judgeReadServerFieldsData(\r\n          this.fieldsConfig\r\n        );\r\n\r\n        this.agTableOptions.columnDefs = currentFields;\r\n        this.agTableOptions.initColumnDefs = initColumnDefs;\r\n\r\n        if (!this.agTableOptions.initTable) {\r\n          this.agTableOptions.initTable = this.initTable;\r\n        }\r\n\r\n        if (style && isObject(style) && !isEmpty(style)) {\r\n          this.agTableOptions.style = style;\r\n        }\r\n\r\n        this.agQueryParams.initTableSuccess = true;\r\n\r\n        this.geAjaxList();\r\n      } catch (err) {\r\n        console.error(\"err=====>\", err);\r\n        this.$message.error(err?.message || \"初始化表格函数[initTable]报错\");\r\n      }\r\n    },\r\n\r\n    geAjaxList(params = {}) {\r\n      if (this.getList && typeof this.getList === \"function\") {\r\n        this.getList(params);\r\n      } else {\r\n        if (this.fieldsConfig.isDefaultInitAgGridTable !== false) {\r\n          // 自定义方法名称\r\n          console.error(\r\n            \"getList查询接口方法是必要方法，请检查父组件是否有填写\"\r\n          );\r\n        } else {\r\n          console.error(\r\n            \"fieldsConfig对象中的[isDefaultInitAgGridTable]属性已经设置为false,请在父组件中methods编写[geAjaxList]方法替代混入的[geAjaxList]方法\"\r\n          );\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n\r\nexport default AgGridTableMixins;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"BasePage\"},[_c('div',{staticClass:\"BasePage-header\"},[_c('div',{staticClass:\"BasePage-header-query\"},[_c('BLHeaderSearch',{ref:\"BLHeaderSearch\",attrs:{\"header-search-config\":_vm.headerSearchConfig,\"ag-query-params\":_vm.agQueryParams,\"get-list\":_vm.getList,\"search-reset\":_vm.searchReset}})],1),_c('div',{staticClass:\"BasePage-header-btn\"},[_c('BLHeaderBtn',{attrs:{\"row-selected-list\":_vm.rowSelectedList,\"btn-config-list\":_vm.btnConfigList},on:{\"headerBtnOperation\":_vm.headerBtnOperation}})],1)]),_c('AgGridTable',{attrs:{\"ag-table-options\":Object.assign({}, _vm.agTableOptions,\n      {gridOptions: _vm.getCustmoerGridOptions,\n      defaultColDef: _vm.getCustomerDefaultColDef}),\"ag-table-switch\":{\n      isScrollEndRequest: true,\n      drawerDoubleShow: true,\n    },\"query-params\":_vm.agQueryParams},on:{\"getRowData\":_vm.getRowData,\"getGridApi\":_vm.getGridApi,\"rowSelected\":_vm.rowSelected,\"requestNextPage\":_vm.requestNextPage}}),_c('AddUser',{attrs:{\"visible\":_vm.openAddUser,\"rowInfo\":_vm.selectedRowInfo},on:{\"update:visible\":function($event){_vm.openAddUser=$event},\"success\":_vm.searchQuery}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.params.node.rowPinned !=='bottom'),expression:\"params.node.rowPinned !=='bottom'\"}],staticClass:\"AgRowActionBtn\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('BLButton',{staticClass:\"AgRowActionBtn-btn\",attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.operation(_vm.params,'编辑')}}},[_vm._v(\"编辑\")]),_c('BLButton',{staticClass:\"AgRowActionBtn-btn\",attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.operation(_vm.params, _vm.params.data.userState === 1 ? '禁用':'启用')}}},[_vm._v(_vm._s(_vm.params.data.userState === 1 ? '禁用':'启用'))]),_c('BLButton',{staticClass:\"AgRowActionBtn-btn\",attrs:{\"type\":\"link\"},on:{\"click\":function($event){return _vm.operation(_vm.params,'删除')}}},[_vm._v(\"删除\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: junsong Chen 779217162@qq.com\r\n * @Date: 2024-02-03 11:03:58\r\n * @LastEditTime: 2024-05-02 17:07:22\r\n * @Description:\r\n-->\r\n<template>\r\n  <div class=\"AgRowActionBtn\" v-show=\"params.node.rowPinned !=='bottom'\" @click.stop>\r\n    <BLButton type=\"link\" class=\"AgRowActionBtn-btn\" @click=\"operation(params,'编辑')\">编辑</BLButton>\r\n    <BLButton\r\n      type=\"link\"\r\n      class=\"AgRowActionBtn-btn\"\r\n      @click=\"operation(params, params.data.userState === 1 ? '禁用':'启用')\"\r\n    >{{ params.data.userState === 1 ? '禁用':'启用' }}</BLButton>\r\n    <BLButton type=\"link\" class=\"AgRowActionBtn-btn\" @click=\"operation(params,'删除')\">删除</BLButton>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { AgGridUtils } from '@/components/AgGridTable/common/agGrid-utils'\r\n\r\nexport default {\r\n  name: 'AgRowActionBtn',\r\n\r\n  methods: {\r\n    // 设置线路\r\n    operation(params, btnText) {\r\n      console.log('params', params)\r\n      const colId = params.colDef.colId\r\n\r\n      if (colId) {\r\n        console.log('colId=====>', colId)\r\n        AgGridUtils.EventBus.$emit(colId, {\r\n          btnText,\r\n          params\r\n        })\r\n      } else {\r\n        this.$message.warning('表格操作事件colId未绑定，请联系管理员')\r\n      }\r\n\r\n      this.$emit('button-click', 'Button clicked!') // 触发事件并传递数据\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.AgRowActionBtn {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100%;\r\n  gap: 6px;\r\n\r\n  &-btn {\r\n    padding: 0px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.91.0/node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.12.16_webpack@5.91.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.31_css-loader@6.11.0_webpack@5.91.0__lodash@4.17.21__ppwlbeml3t3pbtwqrqs37ltiwu/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../node_modules/.pnpm/source-map-loader@5.0.0_webpack@5.91.0/node_modules/source-map-loader/dist/cjs.js!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.91.0/node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.12.16_webpack@5.91.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.31_css-loader@6.11.0_webpack@5.91.0__lodash@4.17.21__ppwlbeml3t3pbtwqrqs37ltiwu/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../node_modules/.pnpm/source-map-loader@5.0.0_webpack@5.91.0/node_modules/source-map-loader/dist/cjs.js!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=361bf916&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=361bf916&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.31_css-loader@6.11.0_webpack@5.91.0__lodash@4.17.21__ppwlbeml3t3pbtwqrqs37ltiwu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"361bf916\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n * @Author: junsong Chen 779217162@qq.com\r\n * @Date: 2024-04-22 15:42:55\r\n * @LastEditTime: 2024-07-18 18:00:55\r\n * @Description: \r\n-->\r\n<template>\r\n  <div class=\"BasePage\">\r\n    <div class=\"BasePage-header\">\r\n      <!-- 查询区域 -->\r\n      <div class=\"BasePage-header-query\">\r\n        <BLHeaderSearch\r\n          :header-search-config=\"headerSearchConfig\"\r\n          :ag-query-params=\"agQueryParams\"\r\n          ref=\"BLHeaderSearch\"\r\n          :get-list=\"getList\"\r\n          :search-reset=\"searchReset\"\r\n        />\r\n      </div>\r\n\r\n      <!-- 操作按钮区域 -->\r\n      <div class=\"BasePage-header-btn\">\r\n        <BLHeaderBtn\r\n          :row-selected-list=\"rowSelectedList\"\r\n          :btn-config-list=\"btnConfigList\"\r\n          @headerBtnOperation=\"headerBtnOperation\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <AgGridTable\r\n      :ag-table-options=\"{\r\n        ...agTableOptions,\r\n        gridOptions: getCustmoerGridOptions,\r\n        defaultColDef: getCustomerDefaultColDef,\r\n      }\"\r\n      :ag-table-switch=\"{\r\n        isScrollEndRequest: true,\r\n        drawerDoubleShow: true,\r\n      }\"\r\n      :query-params=\"agQueryParams\"\r\n      @getRowData=\"getRowData\"\r\n      @getGridApi=\"getGridApi\"\r\n      @rowSelected=\"rowSelected\"\r\n      @requestNextPage=\"requestNextPage\"\r\n    />\r\n\r\n    <!-- 编辑新增用户 -->\r\n    <AddUser\r\n      :visible.sync=\"openAddUser\"\r\n      :rowInfo=\"selectedRowInfo\"\r\n      @success=\"searchQuery\"\r\n    ></AddUser>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AgGridTableMixins from \"@/components/AgGridTable/agTableMixins/index\";\r\nimport {\r\n  getUserInfoList,\r\n  batchDelUserInfo,\r\n  batchEditUserState,\r\n} from \"@/api/index.js\";\r\nimport AgRowActionBtn from \"./components/AgRowActionBtn/index.vue\";\r\n\r\nexport default {\r\n  name: \"BasePage\",\r\n  mixins: [AgGridTableMixins],\r\n  components: {\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    AgRowActionBtn,\r\n    AddUser: () => import(\"./components/AddUser/index.vue\"),\r\n  },\r\n  data() {\r\n    return {\r\n      // 头部搜索配置\r\n      headerSearchConfig: {\r\n        displayIndex: 2,\r\n        main: [\r\n          {\r\n            type: \"fuzzySearch\",\r\n            field: \"searchVal\",\r\n            selectField: \"inField\",\r\n            defaultValue: undefined,\r\n            selectDefaultValue: \"userName\",\r\n            options: [\r\n              {\r\n                label: \"用户名称\",\r\n                value: \"userName\",\r\n              },\r\n              {\r\n                label: \"真实姓名\",\r\n                value: \"realName\",\r\n              },\r\n              {\r\n                label: \"身份证号\",\r\n                value: \"idCardNo\",\r\n              },\r\n              {\r\n                label: \"邮箱\",\r\n                value: \"email\",\r\n              },\r\n              {\r\n                label: \"手机号码\",\r\n                value: \"phoneNumber\",\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            type: \"dateTimeSearch\",\r\n            field: \"dateTime\",\r\n            selectField: \"commonTime\",\r\n            defaultValue: undefined,\r\n            selectDefaultValue: \"startTime,endTime\",\r\n            options: [\r\n              {\r\n                label: \"创建时间\",\r\n                value: \"startTime,endTime\",\r\n              },\r\n              {\r\n                label: \"更新时间\",\r\n                value: \"updateTime\",\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            type: \"select\",\r\n            field: \"sex\",\r\n            defaultValue: undefined,\r\n            placeholder: \"请选择用户性别\",\r\n            options: [\r\n              {\r\n                label: \"男\",\r\n                value: 1,\r\n              },\r\n              {\r\n                label: \"女\",\r\n                value: 0,\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            type: \"select\",\r\n            field: \"userState\",\r\n            defaultValue: undefined,\r\n            placeholder: \"请选择用户状态\",\r\n            options: [\r\n              {\r\n                label: \"禁用\",\r\n                value: 0,\r\n              },\r\n              {\r\n                label: \"启用\",\r\n                value: 1,\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            type: \"select\",\r\n            field: \"authState\",\r\n            defaultValue: undefined,\r\n            placeholder: \"请选择认证状态\",\r\n            options: [\r\n              {\r\n                label: \"未实名\",\r\n                value: 0,\r\n              },\r\n              {\r\n                label: \"认证中\",\r\n                value: 1,\r\n              },\r\n              {\r\n                label: \"已实名\",\r\n                value: 2,\r\n              },\r\n              {\r\n                label: \"认证失败\",\r\n                value: 3,\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            type: \"select\",\r\n            field: \"userRole\",\r\n            defaultValue: undefined,\r\n            placeholder: \"请选择用户角色\",\r\n            options: [\r\n              {\r\n                label: \"超级管理员\",\r\n                value: \"超级管理员\",\r\n              },\r\n              {\r\n                label: \"管理员\",\r\n                value: \"管理员\",\r\n              },\r\n              {\r\n                label: \"普通用户\",\r\n                value: \"普通用户\",\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            type: \"select\",\r\n            field: \"registerFrom\",\r\n            defaultValue: undefined,\r\n            placeholder: \"请选择用户注册于\",\r\n            options: [\r\n              {\r\n                label: \"官网\",\r\n                value: 0,\r\n              },\r\n              {\r\n                label: \"小程序\",\r\n                value: 1,\r\n              },\r\n              {\r\n                label: \"pc管理端\",\r\n                value: 2,\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n\r\n      // 头部操作按钮列表配置\r\n      btnConfigList: [\r\n        {\r\n          btnText: \"新增用户\",\r\n          type: \"primary\",\r\n          power: \"getTransportNode\",\r\n        },\r\n        {\r\n          btnText: \"审批实名\",\r\n          type: \"primary\",\r\n          power: \"approvalIdentify\",\r\n        },\r\n        {\r\n          btnText: \"批量操作\",\r\n          btnType: \"dropdown\",\r\n          afterIcon: \"down\",\r\n          ghost: true,\r\n          power: \"batchOperation\",\r\n          menuItems: [\r\n            {\r\n              btnText: \"删除\",\r\n              icon: \"delete\",\r\n              style: \"color:red;\",\r\n              power: \"batchDelete\",\r\n            },\r\n            {\r\n              btnText: \"禁用\",\r\n              icon: \"lock\",\r\n              power: \"batchDisabled\",\r\n            },\r\n            {\r\n              btnText: \"启用\",\r\n              style: \"color:green\",\r\n              icon: \"unlock\",\r\n              power: \"batchEnabled\",\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n\r\n      // ag-grid表格字段配置\r\n      fieldsConfig: {\r\n        name: \"用户管理\",\r\n        // 页面中如果有多表，需要字段设置用\r\n        id: \"userManage\",\r\n\r\n        // 表头\r\n        database: {\r\n          用户名称: \"userName\",\r\n          用户图片: \"userImg\",\r\n          用户角色: \"userRole\",\r\n          用户状态: \"userState\",\r\n          认证状态: \"authState\",\r\n          真实姓名: \"realName\",\r\n          身份证号: \"idCardNo\",\r\n          手机号码: \"phoneNumber\",\r\n          性别: \"sex\",\r\n          生日: \"birthday\",\r\n          年龄: \"age\",\r\n          邮箱: \"email\",\r\n          省份: \"province\",\r\n          城市: \"city\",\r\n          \"区/县\": \"area\",\r\n          详细地址: \"address\",\r\n          备注: \"remark\",\r\n          注册于: \"registerFrom\",\r\n          用户标签: \"userTags\",\r\n          创建时间: \"createdAt\",\r\n          更新时间: \"updatedAt\",\r\n        },\r\n        specColumns: [\r\n          {\r\n            headerName: \"用户名称\",\r\n            field: \"userName\",\r\n            headerClass: (params) => {\r\n              const columnName = params.colDef.headerName;\r\n\r\n              if (columnName === \"用户名称\") {\r\n                return \"firstSpecialStyles\";\r\n              }\r\n              return \"firstcommonStyles\";\r\n            },\r\n          },\r\n          {\r\n            headerName: \"认证状态\",\r\n            field: \"authState\",\r\n            cellRenderer: (params) => {\r\n              if (params.node.rowPinned === \"bottom\") return;\r\n              return params.value === 0\r\n                ? \"未实名\"\r\n                : params.value === 1\r\n                ? \"认证中\"\r\n                : params.value === 2\r\n                ? \"已实名\"\r\n                : params.value === 3\r\n                ? \"认证失败\"\r\n                : \"\";\r\n            },\r\n          },\r\n          {\r\n            headerName: \"用户状态\",\r\n            field: \"userState\",\r\n            cellRenderer: (params) => {\r\n              if (params.node.rowPinned === \"bottom\") return;\r\n              return params.value == 1\r\n                ? `<span style=\"color:yellowgreen;font-weight:bold;\">启用</span>`\r\n                : params.value === 0\r\n                ? `<span style=\"color:tomato;font-weight:bold;\">禁用</span>`\r\n                : `<span style=\"color:tomato;font-weight:bold;\">注销</span>`;\r\n            },\r\n          },\r\n          {\r\n            headerName: \"性别\",\r\n            field: \"sex\",\r\n            cellRenderer: (params) => {\r\n              if (params.node.rowPinned === \"bottom\") return;\r\n              return params.value === 0 ? \"女\" : \"男\";\r\n            },\r\n          },\r\n          {\r\n            headerName: \"注册于\",\r\n            field: \"registerFrom\",\r\n            cellRenderer: (params) => {\r\n              if (params.node.rowPinned === \"bottom\") return;\r\n              return params.value === 0\r\n                ? \"官网\"\r\n                : params.value === 1\r\n                ? \"小程序\"\r\n                : \"pc管理端\";\r\n            },\r\n          },\r\n        ],\r\n\r\n        actionColumns: [\r\n          {\r\n            headerName: \"操作\",\r\n            field: \"agTableAction\",\r\n            width: 170,\r\n            cellRendererFramework: \"AgRowActionBtn\",\r\n          },\r\n        ],\r\n      },\r\n\r\n      // 选中的行数据\r\n      selectedRowInfo: null,\r\n\r\n      openAddUser: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 获取表格自定义gridOptions\r\n    getCustmoerGridOptions(e) {\r\n      const gridOptions = {\r\n        rowHeight: 80,\r\n        headerHeight: 60,\r\n        rowStyle: { backgroundColor: \"#efefef\" },\r\n        getRowHeight: function (params) {\r\n          if (params.node.rowPinned === \"bottom\") {\r\n            return 36;\r\n          } else {\r\n            return 80;\r\n          }\r\n        },\r\n      };\r\n      return gridOptions;\r\n    },\r\n\r\n    // 获取列的默认设置\r\n    getCustomerDefaultColDef() {\r\n      return {\r\n        cellStyle: function (params) {\r\n          if (params.node.rowPinned === \"bottom\") {\r\n            return { color: \"#333\", \"line-height\": \"36px\", height: \"36px\" }; // 列的单元格默认样式\r\n          } else {\r\n            return { \"line-height\": \"80px\" }; // 列的单元格默认样式\r\n          }\r\n        },\r\n      };\r\n    },\r\n\r\n    // 查询\r\n    searchQuery(pageNum) {\r\n      this.$refs.BLHeaderSearch.searchQuery(pageNum);\r\n    },\r\n\r\n    // 请求接口\r\n    getList(params) {\r\n      const { pageSize, pageNum, filterChangedObj } = this.agQueryParams;\r\n      // 使用真实字段\r\n      this.agQueryParams.queryParam.isRealField = true;\r\n      this.agQueryParams.getDataLoading = true;\r\n      if (pageNum === 1) {\r\n        this.agTableOptions.rowData = null;\r\n      }\r\n      this.rowSelectedList = null;\r\n      getUserInfoList({\r\n        pageSize,\r\n        pageNum,\r\n        queryParams: {\r\n          ...(params || {}),\r\n          ...(filterChangedObj.filterObj || {}),\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(\"res123======>\", res);\r\n\r\n          if (res?.code === 200) {\r\n            const { data: rows, total = 0, pages } = res;\r\n            this.agQueryParams.total = total;\r\n            this.agQueryParams.totalPages = pages;\r\n\r\n            if (pageNum <= 1) {\r\n              this.agTableOptions.rowData = Object.freeze(rows);\r\n            } else {\r\n              // 此方式会导致滚动条回到初始位置\r\n              this.agTableOptions.rowData = Object.freeze([\r\n                ...this.agTableOptions.rowData,\r\n                ...rows,\r\n              ]);\r\n\r\n              // this.gridApi.updateRowData({ add: list })\r\n            }\r\n          } else {\r\n            this.$message.error(res.message || \"查询列表失败\");\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.agQueryParams.getDataLoading = false;\r\n        });\r\n    },\r\n\r\n    // 表格行数据操作方法\r\n    agTableRowOperation(item) {\r\n      const { params, btnText } = item;\r\n      console.log(\"params\", params);\r\n      const rowInfo = params.data;\r\n      this.selectedRowInfo = rowInfo;\r\n      switch (btnText) {\r\n        case \"编辑\":\r\n          console.log(\"编辑\");\r\n          this.openEditUserFun(rowInfo);\r\n          break;\r\n        case \"禁用\":\r\n          console.log(\"禁用\");\r\n          this.toggleStatus([rowInfo], 0);\r\n          break;\r\n        case \"启用\":\r\n          console.log(\"启用\");\r\n          this.toggleStatus([rowInfo], 1);\r\n          break;\r\n        case \"删除\":\r\n          console.log(\"删除\");\r\n          this.deleteConfirm(rowInfo.id);\r\n          break;\r\n      }\r\n    },\r\n\r\n    // 打开编辑\r\n    openEditUserFun(rowInfo) {\r\n      this.selectedRowInfo = rowInfo;\r\n      this.openAddUser = true;\r\n    },\r\n\r\n    // 启用/禁用\r\n    toggleStatus(rowList, userState) {\r\n      console.log(\"启用/禁用\", rowList);\r\n      console.log(\"启用/userState\", userState);\r\n      if (rowList?.length) {\r\n        const that = this;\r\n        const ids = rowList.map((ele) => ele.id).join(\",\");\r\n        const actionText = userState === 0 ? \"禁用\" : \"启用\";\r\n        this.$confirm({\r\n          title: \"温馨提示\",\r\n          content: `您确认${actionText}吗`,\r\n          onOk: async function () {\r\n            console.log(\"提交\");\r\n            const res = await batchEditUserState({\r\n              ids,\r\n              userState,\r\n            });\r\n            if (res.code === 200) {\r\n              that.$message.success(`${actionText}成功`);\r\n              that.getList(that.agQueryParams.queryParam);\r\n            } else {\r\n              that.$message.warning(res.message || `${actionText}失败`);\r\n            }\r\n          },\r\n        });\r\n      } else {\r\n        this.$message.warning(\"未选择行数据\");\r\n      }\r\n    },\r\n\r\n    // 删除\r\n    deleteConfirm(ids) {\r\n      const that = this;\r\n      this.$confirm({\r\n        title: \"操作确认\",\r\n        content: `删除后无法恢复，您是否确认删除?`,\r\n        onOk: async function () {\r\n          console.log(\"提交\");\r\n          const res = await batchDelUserInfo({\r\n            ids,\r\n          });\r\n          if (res.code === 200) {\r\n            that.$message.success(\"删除成功\");\r\n            that.getList(that.agQueryParams.queryParam);\r\n          } else {\r\n            that.$message.warning(res.message || \"删除失败\");\r\n          }\r\n        },\r\n      });\r\n    },\r\n    // 批量删除\r\n    batchDelData(rowList) {\r\n      if (rowList?.length) {\r\n        const ids = rowList.map((ele) => ele.id).join(\",\");\r\n        this.deleteConfirm(ids);\r\n      } else {\r\n        this.$message.warning(\"未选择数据\");\r\n      }\r\n    },\r\n\r\n    // 头部按钮操作\r\n    headerBtnOperation(item) {\r\n      console.log(\"头部按钮操作\", item);\r\n      const { btnText } = item;\r\n\r\n      console.log(\"this.rowSelectedList\", this.rowSelectedList);\r\n\r\n      switch (btnText) {\r\n        case \"新增用户\":\r\n          console.log(\"新增用户\");\r\n          this.selectedRowInfo = null;\r\n          this.openAddUser = true;\r\n          break\r\n        case \"删除\":\r\n          console.log(\"删除\");\r\n          break;\r\n        case \"禁用\":\r\n          console.log(\"禁用\");\r\n          break;\r\n        case \"启用\":\r\n          console.log(\"启用\");\r\n          break;\r\n        case \"批量操作-删除\":\r\n          console.log(\"批量操作-删除\");\r\n          this.batchDelData(this.rowSelectedList);\r\n          break;\r\n        case \"批量操作-禁用\":\r\n          console.log(\"批量操作-禁用\");\r\n          this.toggleStatus(this.rowSelectedList, 0);\r\n          break;\r\n        case \"批量操作-启用\":\r\n          console.log(\"批量操作-启用\");\r\n          this.toggleStatus(this.rowSelectedList, 1);\r\n          break;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/*  有两层表头时，第一层表头是基础信息时渲染的颜色  */\r\n.firstSpecialStyles {\r\n  color: blueviolet;\r\n  background-color: salmon;\r\n}\r\n\r\n/*  有两层表头时，第一层表头不是基础信息时渲染的颜色  */\r\n.firstcommonStyles {\r\n  color: red;\r\n  background-color: gold;\r\n  font-size: larger;\r\n}\r\n</style>\r\n\r\n<style lang=\"less\" scoped>\r\n.BasePage {\r\n  &-header {\r\n    background-color: #fff;\r\n    padding: 10px;\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.91.0/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.12.16_webpack@5.91.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.31_css-loader@6.11.0_webpack@5.91.0__lodash@4.17.21__ppwlbeml3t3pbtwqrqs37ltiwu/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/.pnpm/source-map-loader@5.0.0_webpack@5.91.0/node_modules/source-map-loader/dist/cjs.js!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.91.0/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.12.16_webpack@5.91.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.31_css-loader@6.11.0_webpack@5.91.0__lodash@4.17.21__ppwlbeml3t3pbtwqrqs37ltiwu/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/.pnpm/source-map-loader@5.0.0_webpack@5.91.0/node_modules/source-map-loader/dist/cjs.js!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1e2d1199&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1e2d1199&prod&lang=css\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=1e2d1199&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.31_css-loader@6.11.0_webpack@5.91.0__lodash@4.17.21__ppwlbeml3t3pbtwqrqs37ltiwu/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e2d1199\",\n  null\n  \n)\n\nexport default component.exports"],"names":["AgGridTableMixins","data","editRowData","rowSelectedList","random6DigitNumber","getRandom6DigitNumber","gridOptions","rowHeight","agTableOptions","theme","style","agTableApi","initTable","initColumnDefs","columnDefs","rowData","defaultColDef","agQueryParams","initTableSuccess","getDataLoading","totalPages","total","pageNum","pageSize","filterChangedObj","queryParam","toggleSearchStatus","computed","eventName","this","agGridTableId","watch","newVal","that","AgGridUtils","setEventBusListener","params","agTableRowOperation","beforeDestory","removeEventBusListener","gridApi","destroy","created","fieldsConfig","console","error","isDefaultDealQueryParamObj","dealQueryParamObj","isDefaultInitAgGridTable","methods","getCustmoerGridOptions","headerHeight","rowSelection","rowStyle","backgroundColor","getRowHeight","node","rowPinned","getCustomerDefaultColDef","cellStyle","color","height","headerSearchConfig","main","more","isArray","length","obj","searchList","forEach","ele","field","type","defaultValue","selectDefaultValue","selectField","log","$set","cloneDeep","searchReset","resetQueryParams","searchRequestCount","Object","assign","geAjaxList","requestNextPage","rowSelected","selectedRowData","getSelectedRows","getRowData","getGridApi","InitColumnDefs","currentFields","judgeReadServerFieldsData","isObject","isEmpty","err","$message","message","getList","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","btnConfigList","on","headerBtnOperation","isScrollEndRequest","drawerDoubleShow","openAddUser","selectedRowInfo","$event","searchQuery","staticRenderFns","directives","name","rawName","value","expression","stopPropagation","operation","_v","userState","_s","component"],"sourceRoot":""}
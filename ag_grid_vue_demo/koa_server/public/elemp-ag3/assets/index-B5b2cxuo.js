import{a8 as U,r as M,u as X,a9 as Y,aa as R,ab as Z,b as $,n as z,ac as J,ad as ee,ae as te,$ as V,af as A,ag as ne,ah as re,_ as oe,c as ae,d as se,w as ie,i as ue,f as le,j as B}from"./index-DjauntYY.js";function P(e){return ee()?(te(e),!0):!1}function D(e){return typeof e=="function"?e():X(e)}const ce=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const fe=Object.prototype.toString,de=e=>fe.call(e)==="[object Object]",H=()=>{};function pe(e,t){function n(...a){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})).then(r).catch(s)})}return n}const G=e=>e();function ge(e=G){const t=M(!0);function n(){t.value=!1}function a(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:R(t),pause:n,resume:a,eventFilter:r}}function me(e){return J()}function he(...e){if(e.length!==1)return Y(...e);const t=e[0];return typeof t=="function"?R(Z(()=>({get:t,set:H}))):M(t)}function ve(e,t,n={}){const{eventFilter:a=G,...r}=n;return V(e,pe(a,t),r)}function ye(e,t,n={}){const{eventFilter:a,...r}=n,{eventFilter:s,pause:i,resume:u,isActive:l}=ge(a);return{stop:ve(e,t,{...r,eventFilter:s}),pause:i,resume:u,isActive:l}}function I(e,t=!0,n){me()?$(e,n):t?e():z(e)}function we(e=!1,t={}){const{truthyValue:n=!0,falsyValue:a=!1}=t,r=U(e),s=M(e);function i(u){if(arguments.length)return s.value=u,s.value;{const l=D(n);return s.value=s.value===l?D(a):l,s.value}}return r?i:[s,i]}function K(e){var t;const n=D(e);return(t=n==null?void 0:n.$el)!=null?t:n}const E=ce?window:void 0;function W(...e){let t,n,a,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,r]=e,t=E):[t,n,a,r]=e,!t)return H;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const s=[],i=()=>{s.forEach(g=>g()),s.length=0},u=(g,c,S,h)=>(g.addEventListener(c,S,h),()=>g.removeEventListener(c,S,h)),l=V(()=>[K(t),D(r)],([g,c])=>{if(i(),!g)return;const S=de(c)?{...c}:c;s.push(...n.flatMap(h=>a.map(v=>u(g,h,v,S))))},{immediate:!0,flush:"post"}),p=()=>{l(),i()};return P(p),p}function Se(){const e=M(!1),t=J();return t&&$(()=>{e.value=!0},t),e}function be(e){const t=Se();return A(()=>(t.value,!!e()))}function _e(e,t={}){const{window:n=E}=t,a=be(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=M(!1),i=p=>{s.value=p.matches},u=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i))},l=re(()=>{a.value&&(u(),r=n.matchMedia(D(e)),"addEventListener"in r?r.addEventListener("change",i):r.addListener(i),s.value=r.matches)});return P(()=>{l(),u(),r=void 0}),s}const j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F="__vueuse_ssr_handlers__",ke=Ce();function Ce(){return F in j||(j[F]=j[F]||{}),j[F]}function Q(e,t){return ke[e]||t}function Ae(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const De={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},x="vueuse-storage";function Ee(e,t,n,a={}){var r;const{flush:s="pre",deep:i=!0,listenToStorageChanges:u=!0,writeDefaults:l=!0,mergeDefaults:p=!1,shallow:g,window:c=E,eventFilter:S,onError:h=o=>{console.error(o)},initOnMounted:v}=a,m=(g?ne:M)(typeof t=="function"?t():t);if(!n)try{n=Q("getDefaultStorage",()=>{var o;return(o=E)==null?void 0:o.localStorage})()}catch(o){h(o)}if(!n)return m;const w=D(t),O=Ae(w),b=(r=a.serializer)!=null?r:De[O],{pause:T,resume:f}=ye(m,()=>L(m.value),{flush:s,deep:i,eventFilter:S});c&&u&&I(()=>{W(c,"storage",y),W(c,x,N),v&&y()}),v||y();function _(o,d){c&&c.dispatchEvent(new CustomEvent(x,{detail:{key:e,oldValue:o,newValue:d,storageArea:n}}))}function L(o){try{const d=n.getItem(e);if(o==null)_(d,null),n.removeItem(e);else{const k=b.write(o);d!==k&&(n.setItem(e,k),_(d,k))}}catch(d){h(d)}}function C(o){const d=o?o.newValue:n.getItem(e);if(d==null)return l&&w!=null&&n.setItem(e,b.write(w)),w;if(!o&&p){const k=b.read(d);return typeof p=="function"?p(k,w):O==="object"&&!Array.isArray(k)?{...w,...k}:k}else return typeof d!="string"?d:b.read(d)}function y(o){if(!(o&&o.storageArea!==n)){if(o&&o.key==null){m.value=w;return}if(!(o&&o.key!==e)){T();try{(o==null?void 0:o.newValue)!==b.write(m.value)&&(m.value=C(o))}catch(d){h(d)}finally{o?z(f):f()}}}}function N(o){y(o.detail)}return m}function q(e){return _e("(prefers-color-scheme: dark)",e)}function Me(e={}){const{selector:t="html",attribute:n="class",initialValue:a="auto",window:r=E,storage:s,storageKey:i="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:l,emitAuto:p,disableTransition:g=!0}=e,c={auto:"",light:"light",dark:"dark",...e.modes||{}},S=q({window:r}),h=A(()=>S.value?"dark":"light"),v=l||(i==null?he(a):Ee(i,a,s,{window:r,listenToStorageChanges:u})),m=A(()=>v.value==="auto"?h.value:v.value),w=Q("updateHTMLAttrs",(f,_,L)=>{const C=typeof f=="string"?r==null?void 0:r.document.querySelector(f):K(f);if(!C)return;let y;if(g&&(y=r.document.createElement("style"),y.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(y)),_==="class"){const N=L.split(/\s/g);Object.values(c).flatMap(o=>(o||"").split(/\s/g)).filter(Boolean).forEach(o=>{N.includes(o)?C.classList.add(o):C.classList.remove(o)})}else C.setAttribute(_,L);g&&(r.getComputedStyle(y).opacity,document.head.removeChild(y))});function O(f){var _;w(t,n,(_=c[f])!=null?_:f)}function b(f){e.onChanged?e.onChanged(f,O):O(f)}V(m,b,{flush:"post",immediate:!0}),I(()=>b(m.value));const T=A({get(){return p?v.value:m.value},set(f){v.value=f}});try{return Object.assign(T,{store:v,system:h,state:m})}catch(f){return T}}function Oe(e={}){const{valueDark:t="dark",valueLight:n="",window:a=E}=e,r=Me({...e,onChanged:(u,l)=>{var p;e.onChanged?(p=e.onChanged)==null||p.call(e,u==="dark",l,u):l(u)},modes:{dark:t,light:n}}),s=A(()=>r.system?r.system.value:q({window:a}).value?"dark":"light");return A({get(){return r.value==="dark"},set(u){const l=u?"dark":"light";s.value===l?r.value="auto":r.value=l}})}const Te={name:"Theme",setup(){const e=Oe();return{toggleDark:we(e)}}},Le={class:"Setting"},Ne=B("i",{"inline-flex":"",i:"dark:el-moon el-sunny"},null,-1),je=[Ne];function Fe(e,t,n,a,r,s){const i=ue("MyTooltip");return le(),ae("div",Le,[se(i,{content:"设置"},{default:ie(()=>[B("button",{class:"border-none w-full bg-transparent cursor-pointer",style:{height:"var(--el-menu-item-height)"},onClick:t[0]||(t[0]=u=>a.toggleDark())},je)]),_:1})])}const We=oe(Te,[["render",Fe]]);export{We as default};

System.register(["./index-legacy-BNafmY9A.js"],(function(e,t){"use strict";var a,n,l,o,s,i,r,c,d,u,g,b,h,p,m,w,f,v,x,_,V,C,R,T,L,k,y,D;return{setters:[e=>{a=e._,n=e.K,l=e.L,o=e.M,s=e.N,i=e.O,r=e.P,c=e.v,d=e.a,u=e.b,g=e.r,b=e.c,h=e.d,p=e.w,m=e.x,w=e.Q,f=e.i,v=e.f,x=e.F,_=e.G,V=e.s,C=e.C,R=e.D,T=e.l,L=e.t,k=e.H,y=e.j,D=e.R}],execute:function(){var t=document.createElement("style");t.textContent=".TagViews-tabs[data-v-6637b371] .el-tabs__header{margin:0!important;box-sizing:border-box!important;border:none!important}.TagViews-tabs[data-v-6637b371] .el-tabs__nav-wrap{box-shadow:0 1px 3px rgba(0,0,0,.12),0 0 3px rgba(0,0,0,.04)}.TagViews-tabs .el-tabs__content[data-v-6637b371]{padding:32px;color:#6b778c;font-size:32px;font-weight:600;cursor:pointer}.TagViews-label[data-v-6637b371],[data-v-6637b371] .el-tabs__item:hover span{color:var(--el-color-primary)}[data-v-6637b371] .el-tabs__item .el-dropdown{line-height:inherit}\n",document.head.appendChild(t);const M={name:"TagViews",components:{DArrowLeft:n,DArrowRight:l,Operation:o,Minus:s,Close:i,Refresh:r},setup(){const e=m(),t=c(),a=w("reload"),n=d([{icon:"Refresh",title:"刷新",value:"refresh"},{icon:"Close",title:"关闭当前标签页",value:"close"},{icon:"DArrowLeft",title:"关闭左侧标签页",value:"left"},{icon:"DArrowRight",title:"关闭右侧标签页",value:"right"},{icon:"Operation",title:"关闭其他标签页",value:"other"},{icon:"Minus",title:"关闭全部标签页",value:"all"}]);u((()=>{console.log("mounted-----渲染次数")}));const l=g(null);return{store:t,tabsHandleChange:t=>{e.push({path:t||"/index"})},handleTabRemove:(e,n)=>{const l=t.tagViewsList,o=l.findIndex((t=>t.name===e));switch(n){case"refresh":console.log("刷新"),a&&a();break;case"close":console.log("关闭当前标签页"),(e=>{"/index"!==e?(l.splice(o,1),e===t.currentRoute&&(t.currentRoute=0===o?"index":l[o-1].path)):V("首页标签不能被清除")})(e);break;case"left":console.log("关闭左侧标签页"),l.splice(1,o);break;case"right":console.log("关闭右侧标签页"),l.splice(o+1,l.length);break;case"other":console.log("关闭其他标签页"),t.tagViewsList=[l[o]];break;case"all":console.log("关闭全部标签页")}},isShowMenu:(e,a)=>{if(["left","right"].includes(a)){const n=t.tagViewsList.findIndex((t=>e===t.name));return"left"===a?0!==n:n!==t.tagViewsList.length-1}return"other"===a?t.tagViewsList.length>1:"all"!==a||0!==t.tagViewsList.length},handleChange:(e,t)=>{e&&l.value.forEach((e=>{e.id!==t&&e.handleClose()}))},dropdownRef:l,contextmenuList:n,reload:a}}},A={class:"TagViews"};e("default",a(M,[["render",function(e,t,a,n,l,o){const s=f("el-icon"),i=f("el-dropdown-item"),r=f("el-dropdown-menu"),c=f("el-dropdown"),d=f("el-tab-pane"),u=f("el-tabs");return v(),b("div",A,[h(u,{"model-value":n.store.currentRoute,type:"card",class:"TagViews-tabs",closable:"",onTabChange:n.tabsHandleChange,onTabRemove:t[0]||(t[0]=e=>n.handleTabRemove(e,"close"))},{default:p((()=>[(v(!0),b(x,null,_(n.store.tagViewsList,(e=>(v(),C(d,{key:e.name,label:e.title,name:e.name,closable:""},{label:p((()=>[h(c,{id:e.name,ref_for:!0,ref:"dropdownRef",trigger:"contextmenu",onVisibleChange:t=>n.handleChange(t,e.name)},{dropdown:p((()=>[h(r,null,{default:p((()=>[(v(!0),b(x,null,_(n.contextmenuList,((t,a)=>(v(),b("span",{key:a},[n.isShowMenu(e.name,t.value)?(v(),C(i,{key:0,onClick:a=>n.handleTabRemove(e.name,t.value)},{default:p((()=>[h(s,null,{default:p((()=>[(v(),C(R(t.icon)))])),_:2},1024),T(" "+L(t.title),1)])),_:2},1032,["onClick"])):k("",!0)])))),128))])),_:2},1024)])),default:p((()=>[y("span",{class:D(n.store.currentRoute===e.name?"TagViews-label":"")},L(e.title),3)])),_:2},1032,["id","onVisibleChange"])])),_:2},1032,["label","name"])))),128))])),_:1},8,["model-value","onTabChange"])])}],["__scopeId","data-v-6637b371"]]))}}}));

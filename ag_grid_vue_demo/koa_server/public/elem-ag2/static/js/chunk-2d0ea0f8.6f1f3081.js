(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["chunk-2d0ea0f8"],{"8fd8":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"errorLog"},[e("div",{staticClass:"errorLog-header dk-header-search-container",attrs:{flex:"main:justify cross:center"}},[e("div",{staticClass:"errorLog-header__left"},[e("MySearchBox")],1),e("div",{staticClass:"errorLog-header__right"},[e("MyBtnList",{attrs:{slot:"right","btn-list-config":t.btnListConfig},on:{clickFun:t.clickFun},slot:"right"})],1)]),e("AgGrid",{attrs:{"ag-table-options":t.agTableOptions},on:{getGridApi:t.getGridApi}})],1)},i=[],s=a("6eef"),r=a("c7e8"),n={name:"ErrorLog",data(){return{agTableOptions:{columnDefs:[],rowData:[]},fieldsConfig:{showFirstColumn:!0,database:{message:"信息",type:"信息类型",page:"发生页面",time:"发生时间",meta:"其它"}},btnListConfig:{schemas:[{btnText:"新增",type:"primary",icon:"el-icon-plus",loading:!1},{btnText:"删除",plain:!0,icon:"el-icon-delete",type:"danger"}]},agTable:null}},computed:{...Object(s["e"])("setting/log",["log"])},watch:{log:function(t){this.agTableOptions.rowData=t}},created(){this.getInitTable()},mounted(){this.agTableOptions.rowData=this.log},methods:{...Object(s["b"])("setting/log",["pushErrorLog","clearAllErrorLog"]),getInitTable(){const t=new r["b"](this.fieldsConfig);this.agTableOptions.columnDefs=t},getGridApi(t){const e=new r["a"](t);e.sizeColumnsToFit(),this.agTable=e},addErrorLog(){this.pushErrorLog({message:"测试错误",type:"info",meta:{otherMessage:"补充信息"}})},clearErrorLog(){this.clearAllErrorLog()},testFun(t){const{item:e}=t;e.loading=!0;const a={content:"确认删除吗？",isRecord:!1,confirmCalback:()=>{this.clearErrorLog()},cancelCallback:()=>{},overCallback:()=>{}};this.$commJs.confirmModel(a,this).then(t=>{}).finally(()=>{e.loading=!1})},clickFun(t){const{item:e}=t;switch(e.btnText){case"新增":this.addErrorLog();break;case"删除":this.testFun(t);break;case"删除2":e.loading=!0,this.$commJs.confirmModel("确认删除吗？",this).then(t=>{"confirm"===t&&this.clearErrorLog()}).finally(()=>{e.loading=!1});break}}}},l=n,c=a("d4a3"),g=Object(c["a"])(l,o,i,!1,null,null,null);e["default"]=g.exports}}]);